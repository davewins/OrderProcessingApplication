<process-dir height="412" id="orderprocessing.module.StockCheck" name="orderprocessing.module.StockCheck" type="process" width="809" x="140" y="20">
    <ProcessInfo createdBy="dave" createdOn="Thu Apr 10 16:27:19 BST 2025" description="" modifiedBy="" modifiedOn="" modifiers="public" productVersion="2.10.0 HF2 V49 2025-03-21" scalable="false" singleton="true" stateless="true" type="IT"/>
    <customer-activity img="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" type="bw.generalactivities.callprocess"/>
    <link-dir id="cfe18c83-a7cc-4f02-88a6-d6c6605ec688" label="" linkType="SUCCESS" name="JMSReceiveMessageToLogger" points="[[159,197],[219,197]]" source="62215706-c4dc-4fb8-8bb6-8c8677db557b" target="a95fd09e-cd03-4889-8f2c-dc869a8758ea"/>
    <activity-dir height="48" id="62215706-c4dc-4fb8-8bb6-8c8677db557b" name="JMSReceiveMessage" type="bw.jms.receive" width="48" x="110" y="173">
        <BWActivity activityTypeID="bw.jms.receive" version="6.0.0.20132205">
            <activityConfig>
                <properties name="config" type="activityconfig:EMFProperty">
                    <type href="http://ns.tibco.com/bw/palette/jms#//JMSReceiverEventSource"/>
                    <value ackMode="TIBCO EMS Explicit Client" bodyTypeQName="JsonSchema:Product" connectionReference="jmsConnection" destinationName="StockCheck" maxSessions="1" messageType="XML Text" messagingStyle="Queue" receiveTimeout="2" type="jms:JMSReceiverEventSource"/>
                </properties>
            </activityConfig>
        </BWActivity>
    </activity-dir>
    <link-dir id="e13344dd-7a10-4c6d-b8c3-bae20e0bb3f5" label="" linkType="SUCCESS" name="ReplytoJMSMessageToConfirm" points="[[400,197],[465,197]]" source="5163f82e-327b-41e4-b2ed-95c02be6153e" target="bb068a89-3cdc-4c22-88f4-11ec03f7a6e0"/>
    <activity-dir height="48" id="5163f82e-327b-41e4-b2ed-95c02be6153e" name="ReplytoJMSMessage" type="bw.jms.reply" width="48" x="351" y="173">
        <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/namespaces/tnt/plugins/jms+5163f82e-327b-41e4-b2ed-95c02be6153e+input&quot; xmlns:tns1=&quot;/api/T1743783650328Converted/JsonSchema&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;JMSReceiveMessage&quot;/&gt;&lt;xsl:template name=&quot;ReplytoJMSMessage-input&quot; match=&quot;/&quot;&gt;&lt;tns2:ActivityInput&gt;&lt;Body&gt;&lt;tns1:Product&gt;&lt;xsl:if test=&quot;$JMSReceiveMessage/Body/tns1:Product/tns1:name&quot;&gt;&lt;tns1:name&gt;&lt;xsl:value-of select=&quot;$JMSReceiveMessage/Body/tns1:Product/tns1:name&quot;/&gt;&lt;/tns1:name&gt;&lt;/xsl:if&gt;&lt;tns1:quantity&gt;&lt;xsl:value-of select=&quot;tib:random(0, 15)&quot;/&gt;&lt;/tns1:quantity&gt;&lt;/tns1:Product&gt;&lt;/Body&gt;&lt;/tns2:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
        <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns2=&quot;http://www.tibco.com/namespaces/tnt/plugins/jms+5163f82e-327b-41e4-b2ed-95c02be6153e+input&quot; xmlns:tns1=&quot;/api/T1743783650328Converted/JsonSchema&quot; xmlns:tib=&quot;http://www.tibco.com/bw/xslt/custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;JMSReceiveMessage&quot;/&gt;&lt;xsl:template name=&quot;ReplytoJMSMessage-input&quot; match=&quot;/&quot;&gt;&lt;tns2:ActivityInput&gt;&lt;Body&gt;&lt;tns1:Product&gt;&lt;xsl:if test=&quot;$JMSReceiveMessage/Body/tns1:Product/tns1:name&quot;&gt;&lt;tns1:name&gt;&lt;xsl:value-of select=&quot;$JMSReceiveMessage/Body/tns1:Product/tns1:name&quot;/&gt;&lt;/tns1:name&gt;&lt;/xsl:if&gt;&lt;tns1:quantity&gt;&lt;xsl:value-of select=&quot;tib:random(0, 15)&quot;/&gt;&lt;/tns1:quantity&gt;&lt;/tns1:Product&gt;&lt;/Body&gt;&lt;/tns2:ActivityInput&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
        <BWActivity activityTypeID="bw.jms.reply" version="6.0.0.20132205">
            <activityConfig>
                <properties name="config" type="activityconfig:EMFProperty">
                    <type href="http://ns.tibco.com/bw/palette/jms#//ReplyToJMSMessage"/>
                    <value bodyTypeQName="JsonSchema:Product" messageType="XML Text" priority="4" replyFor="JMSReceiveMessage" type="jms:ReplyToJMSMessage"/>
                </properties>
            </activityConfig>
        </BWActivity>
    </activity-dir>
    <link-dir id="a32abb32-d34f-4c1f-aae4-c8c3490111a2" label="" linkType="SUCCESS" name="ConfirmToLogger1" points="[[514,197],[580,197]]" source="bb068a89-3cdc-4c22-88f4-11ec03f7a6e0" target="5e9e7613-b96a-4f09-9381-a1e9b12dbffe"/>
    <activity-dir height="48" id="bb068a89-3cdc-4c22-88f4-11ec03f7a6e0" name="Confirm" type="bw.generalactivities.confirm" width="48" x="465" y="173">
        <BWActivity activityTypeID="bw.generalactivities.confirm">
            <activityConfig>
                <properties name="config" type="activityconfig:EMFProperty">
                    <type href="http://ns.tibco.com/bw/palette/generalactivities#//Confirm"/>
                    <value confirmEvent="JMSReceiveMessage" type="generalactivities:Confirm"/>
                </properties>
            </activityConfig>
        </BWActivity>
    </activity-dir>
    <link-dir id="e0b96468-7d84-48e8-b015-1c412638a5d0" label="" linkType="SUCCESS" name="LoggerToReplytoJMSMessage" points="[[268,197],[351,197]]" source="a95fd09e-cd03-4889-8f2c-dc869a8758ea" target="5163f82e-327b-41e4-b2ed-95c02be6153e"/>
    <activity-dir height="48" id="a95fd09e-cd03-4889-8f2c-dc869a8758ea" name="LogCheckingStock" type="bw.generalactivities.callprocess" width="48" x="219" y="173">
        <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.com/namespaces/tns/1744208063291&quot; xmlns:tns1=&quot;/api/T1743783650328Converted/JsonSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;JMSReceiveMessage&quot;/&gt;&lt;xsl:template name=&quot;Logger-input&quot; match=&quot;/&quot;&gt;&lt;tns:Element&gt;&lt;tns:LogMessage&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot;Check stock levels for : &amp;quot;,$JMSReceiveMessage/Body/tns1:Product/tns1:name)&quot;/&gt;&lt;/tns:LogMessage&gt;&lt;tns:Severity&gt;&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;LogLevel&amp;quot;)&quot;/&gt;&lt;/tns:Severity&gt;&lt;/tns:Element&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
        <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.com/namespaces/tns/1744208063291&quot; xmlns:tns1=&quot;/api/T1743783650328Converted/JsonSchema&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;JMSReceiveMessage&quot;/&gt;&lt;xsl:template name=&quot;Logger-input&quot; match=&quot;/&quot;&gt;&lt;tns:Element&gt;&lt;tns:LogMessage&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot;Check stock levels for : &amp;quot;,$JMSReceiveMessage/Body/tns1:Product/tns1:name)&quot;/&gt;&lt;/tns:LogMessage&gt;&lt;tns:Severity&gt;&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;LogLevel&amp;quot;)&quot;/&gt;&lt;/tns:Severity&gt;&lt;/tns:Element&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
    </activity-dir>
    <activity-dir height="48" id="5e9e7613-b96a-4f09-9381-a1e9b12dbffe" name="LogStockLevels" type="bw.generalactivities.callprocess" width="48" x="580" y="173">
        <inputBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.com/namespaces/tns/1744208063291&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; xmlns:tns1=&quot;/api/T1743783650328Converted/JsonSchema&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;JMSReceiveMessage&quot;/&gt;&lt;xsl:template name=&quot;Logger1-input&quot; match=&quot;/&quot;&gt;&lt;tns:Element&gt;&lt;tns:LogMessage&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot;Qty in Stock for &amp;quot;,$JMSReceiveMessage/Body/tns1:Product/tns1:name,&amp;quot; is &amp;quot;,xsd:string($JMSReceiveMessage/Body/tns1:Product/tns1:quantity))&quot;/&gt;&lt;/tns:LogMessage&gt;&lt;tns:Severity&gt;&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;LogLevel&amp;quot;)&quot;/&gt;&lt;/tns:Severity&gt;&lt;/tns:Element&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
        <partBinding expression="&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;&#10;&lt;xsl:stylesheet xmlns:xsl=&quot;http://www.w3.org/1999/XSL/Transform&quot; xmlns:tns=&quot;http://www.example.com/namespaces/tns/1744208063291&quot; xmlns:bw=&quot;http://www.tibco.com/bw/xpath/bw-custom-functions&quot; xmlns:tns1=&quot;/api/T1743783650328Converted/JsonSchema&quot; xmlns:xsd=&quot;http://www.w3.org/2001/XMLSchema&quot; version=&quot;2.0&quot;&gt;&lt;xsl:param name=&quot;JMSReceiveMessage&quot;/&gt;&lt;xsl:template name=&quot;Logger1-input&quot; match=&quot;/&quot;&gt;&lt;tns:Element&gt;&lt;tns:LogMessage&gt;&lt;xsl:value-of select=&quot;concat(&amp;quot;Qty in Stock for &amp;quot;,$JMSReceiveMessage/Body/tns1:Product/tns1:name,&amp;quot; is &amp;quot;,xsd:string($JMSReceiveMessage/Body/tns1:Product/tns1:quantity))&quot;/&gt;&lt;/tns:LogMessage&gt;&lt;tns:Severity&gt;&lt;xsl:value-of select=&quot;bw:getModuleProperty(&amp;quot;LogLevel&amp;quot;)&quot;/&gt;&lt;/tns:Severity&gt;&lt;/tns:Element&gt;&lt;/xsl:template&gt;&lt;/xsl:stylesheet&gt;"/>
    </activity-dir>
</process-dir>
